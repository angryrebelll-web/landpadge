<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>PROPELLINI ‚Äì –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–Ω—Ç–∏–≥—Ä–∞–≤–∏–π–Ω–æ–π –ø–ª–µ–Ω–∫–∏</title>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
  <link rel="stylesheet" href="style.css" />
  <!-- Lazy load Three.js —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ -->
  <script>
    // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ Three.js —Å –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    window.THREE_LOADED = false;
    function loadThreeJS() {
      if (window.THREE_LOADED || typeof THREE !== 'undefined') return Promise.resolve();
      return new Promise((resolve, reject) => {
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
        script.crossOrigin = 'anonymous';
        script.async = true;
        script.onload = () => { window.THREE_LOADED = true; resolve(); };
        script.onerror = reject;
        document.head.appendChild(script);
      });
    }
  </script>
</head>
<body>
  <div class="calculator">
    <!-- –®–∞–ø–∫–∞ —Å –∞–¥—Ä–µ—Å–æ–º -->
    <header class="header">
      <div class="address"><strong>–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏—à–≤–∏–Ω–∞, –≤–ª2–ê</strong></div>
      <h1>PROPELLINI</h1>
      <p class="subtitle">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫–ª–µ–π–∫–∏ –∞–Ω—Ç–∏–≥—Ä–∞–≤–∏–π–Ω–æ–π –ø–ª–µ–Ω–∫–æ–π</p>
    </header>

    <div class="calculator-content">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <aside class="left-column">
        <!-- –í—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è -->
        <section class="car-class-selection card">
          <h2>–í—ã–±—Ä–∞—Ç—å —Ç–∏–ø –∞–≤—Ç–æ</h2>
          <div class="class-options" id="classOptions">
            <button class="class-option active" data-class="small"><span class="thumb"></span><div class="class-info"><h3>–ú–∞–ª—ã–π –∫–ª–∞—Å—Å</h3></div></button>
            <button class="class-option" data-class="business"><span class="thumb"></span><div class="class-info"><h3>–ë–∏–∑–Ω–µ—Å –∫–ª–∞—Å—Å / –ö—Ä–æ—Å—Å–æ–≤–µ—Ä—ã</h3></div></button>
            <button class="class-option" data-class="suv-lux"><span class="thumb"></span><div class="class-info"><h3>–í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏ / –õ—é–∫—Å</h3></div></button>
            <button class="class-option" data-class="pickup"><span class="thumb"></span><div class="class-info"><h3>–ë–æ–ª—å—à–∏–µ –ø–∏–∫–∞–ø—ã</h3></div></button>
            <button class="class-option" data-class="bus"><span class="thumb"></span><div class="class-info"><h3>–ê–≤—Ç–æ–±—É—Å—ã / –ú–∏–Ω–∏–≤—ç–Ω—ã</h3></div></button>
          </div>
        </section>

        <!-- –í—ã–±–æ—Ä –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ -->
        <section class="model-selection card">
          <h2>–í—ã–±–æ—Ä –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏</h2>
          <div class="search-container">
            <input type="text" id="modelSearch" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –º–∞—Ä–∫—É –∏–ª–∏ –º–æ–¥–µ–ª—å‚Ä¶" />
            <div class="dropdown" id="modelDropdown"></div>
          </div>
          <div class="brands-chips-container">
            <h3 class="chips-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É:</h3>
            <div class="chips-wrapper" id="brandChips"></div>
          </div>
          <div class="models-chips-container">
            <h3 class="chips-title">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å:</h3>
            <div class="chips-wrapper" id="modelChips"></div>
          </div>
          <div class="selected-model" id="selectedModelInfo" style="display:none;">
            <span id="modelName"></span>
            <span class="model-class" id="modelClass"></span>
          </div>
        </section>
      </aside>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <section class="right-column">
        <!-- –ó–æ–Ω—ã –æ–∫–ª–µ–π–∫–∏ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
        <section class="zones-selection card" id="zonesSelection">
          <h2>–í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –æ–∫–ª–µ–π–∫–∏</h2>
          <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ -->
          <div class="quick-buttons" style="margin-bottom: 16px; display: flex; gap: 8px; flex-wrap: wrap;">
            <button id="riskZonesBtn" class="quick-btn" style="flex: 1; min-width: 140px; padding: 10px 16px; border-radius: 10px; border: 1px solid rgba(22,132,145,.3); background: rgba(22,132,145,.1); color: var(--primary); cursor: pointer; transition: .25s; font-size: 13px; font-weight: 500;">
              –ó–æ–Ω—ã —Ä–∏—Å–∫–∞
            </button>
            <button id="clearZonesBtn" class="quick-btn" style="flex: 1; min-width: 140px; padding: 10px 16px; border-radius: 10px; border: 1px solid rgba(255,255,255,.2); background: rgba(255,255,255,.05); color: var(--text); cursor: pointer; transition: .25s; font-size: 13px; font-weight: 500;">
              –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </div>
          <!-- 3D –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–æ–Ω -->
          <div class="car-zones-visual" id="car3dContainer" style="margin-bottom: 20px; padding: 20px; background: rgba(255,255,255,.02); border-radius: 12px; display: flex; justify-content: center; align-items: center; position: relative; min-height: 400px;">
            <div id="car3dCanvas" style="width: 100%; height: 400px; max-width: 500px; cursor: grab;"></div>
            <div style="position: absolute; top: 10px; right: 10px; padding: 8px 12px; background: rgba(0,0,0,.7); border-radius: 8px; font-size: 12px; color: #fff;">
              <span>üñ±Ô∏è –í—Ä–∞—â–∞—Ç—å | üîç –ó—É–º</span>
            </div>
          </div>
          <!-- Fallback SVG –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
          <div id="carSvgFallback" style="display: none;">
            <svg viewBox="0 0 400 450" width="100%" height="auto" style="max-width: 400px; max-height: 450px;">
              <g id="interactive-zones"></g>
            </svg>
          </div>
          <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ script.js -->
        </section>

        <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å -->
        <section class="total-section card">
          <div class="total-header"><h2>–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</h2></div>
          <div class="total-details">
            <div class="total-info">
              <span id="totalZones">0 –∑–æ–Ω</span>
              <span id="carClassInfo">–ö–ª–∞—Å—Å –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
            </div>
            <div class="total-price"><span class="total-amount" id="totalAmount">0 ‚ÇΩ</span></div>
          </div>
          <button class="order-btn">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫–ª–µ–π–∫—É</button>
        </section>
      </section>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
      <nav class="footer-nav">
        <a href="#services">–£–°–õ–£–ì–ò</a>
        <a href="#reviews">–û–¢–ó–´–í–´</a>
        <a href="#works">–ù–ê–®–ò –†–ê–ë–û–¢–´</a>
        <a href="#contacts">–ö–û–ù–¢–ê–ö–¢–´</a>
      </nav>
      <p>¬© Propellini, 2025</p>
    </footer>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø–∏—Å–∏ -->
  <div id="orderModal" class="order-modal" style="display: none;">
    <div class="order-modal-overlay" id="orderModalOverlay"></div>
    <div class="order-modal-content">
      <button class="order-modal-close" id="orderModalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      <h2>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–∫–ª–µ–π–∫—É</h2>
      <form id="orderForm" class="order-form">
        <div class="order-form-group">
          <label for="orderName">–í–∞—à–µ –∏–º—è *</label>
          <input type="text" id="orderName" name="name" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" />
        </div>
        <div class="order-form-group">
          <label for="orderPhone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="orderPhone" name="phone" required placeholder="+7 (___) ___-__-__" />
        </div>
        <div class="order-form-group">
          <label for="orderEmail">Email</label>
          <input type="email" id="orderEmail" name="email" placeholder="email@example.com" />
        </div>
        <div class="order-form-group">
          <label for="orderCar">–ê–≤—Ç–æ–º–æ–±–∏–ª—å</label>
          <input type="text" id="orderCar" name="car" readonly placeholder="–ù–µ –≤—ã–±—Ä–∞–Ω" />
        </div>
        <div class="order-form-group">
          <label for="orderZones">–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã</label>
          <textarea id="orderZones" name="zones" readonly rows="3" placeholder="–ù–µ –≤—ã–±—Ä–∞–Ω—ã"></textarea>
        </div>
        <div class="order-form-group">
          <label for="orderTotal">–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</label>
          <input type="text" id="orderTotal" name="total" readonly placeholder="0 ‚ÇΩ" />
        </div>
        <div class="order-form-group">
          <label for="orderComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
          <textarea id="orderComment" name="comment" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"></textarea>
        </div>
        <div class="order-form-actions">
          <button type="button" class="order-btn-cancel" id="orderCancel">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="order-btn-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        </div>
      </form>
    </div>
  </div>
  
  <script src="script.js" defer></script>
  <noscript>
    <style>
      .calculator { display: none; }
      body::before {
        content: "–î–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è JavaScript. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ JavaScript –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.";
        display: block;
        padding: 20px;
        text-align: center;
        font-size: 16px;
      }
    </style>
  </noscript>
</body>
</html>